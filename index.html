<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lernlandschaft Weimarer Republik – Sek II</title>

<style>
body {
  font-family: system-ui, sans-serif;
  margin: 0;
  background: #f2f3f7;
}
header {
  background: #1f2430;
  color: #fff;
  padding: 2.5rem;
}
section {
  background: #fff;
  margin: 2.5rem auto;
  padding: 2.5rem;
  max-width: 980px;
  border-radius: 14px;
  box-shadow: 0 8px 22px rgba(0,0,0,.08);
}
h2 { margin-top: 0; }
video {
  width: 100%;
  margin: 1.5rem 0;
  border-radius: 12px;
  background: #000;
}
textarea {
  width: 100%;
  min-height: 120px;
  font-size: 1rem;
  padding: 0.7rem;
}
button {
  margin-top: 0.6rem;
  padding: 0.6rem 1.2rem;
  font-size: 1rem;
  border: none;
  border-radius: 6px;
  background: #5a78b4;
  color: #fff;
  cursor: pointer;
}
button[disabled] {
  background: #999;
  cursor: not-allowed;
}
.points {
  margin-top: 0.4rem;
  font-weight: bold;
}
.missing {
  margin-top: 0.3rem;
  font-size: 0.9rem;
}
.feedback {
  margin-top: 0.6rem;
  font-weight: bold;
}
.hint, .solution {
  display: none;
  margin-top: 0.6rem;
  padding: 0.7rem;
}
.hint { background: #fff3cd; }
.solution { background: #e7eefb; }
.teacher {
  position: fixed;
  top: 10px;
  right: 10px;
  background: #fff;
  padding: 0.6rem;
  border-radius: 6px;
  box-shadow: 0 4px 10px rgba(0,0,0,.15);
}
</style>
</head>

<body>

<div class="teacher">
<label>
<input type="checkbox" id="teacherToggle">
Lehrer:innenmodus
</label>
</div>

<header>
<h1>Lernlandschaft: Der Weg von Weimar zu Hitler</h1>
<p>Sek II – Bewertungssystem mit Mindestschwelle</p>
</header>

<section>

<h2>Modul 1: Ursachen des Scheiterns der Weimarer Republik</h2>
<video controls>
<source src="https://www.dropbox.com/scl/fi/ay52suureq2m2cxtsfp2a/Das-Scheitern-der-Weimarer-Republik-Ursachen-Grundz-ge.mp4?raw=1" type="video/mp4">
</video>

<div class="task" data-module="m1" data-solution="Das Scheitern der Weimarer Republik beruhte auf einer Wechselwirkung aus wirtschaftlichen Krisen, politischen Radikalisierungen, strukturellen Schwächen der Verfassung und dem Versagen demokratischer Akteure.">
<p><strong>1. Warum gab es keine einzelne Ursache für das Scheitern der Weimarer Republik?</strong></p>
<textarea></textarea>
<button onclick="check(this)">Antwort prüfen</button>
<div class="points"></div>
<div class="missing"></div>
<div class="feedback"></div>
<div class="hint"></div>
<div class="solution"></div>
<button class="next" disabled>Weiter</button>
</div>

<h2>Modul 2: Präsidialkabinette – Brüning, Papen, Schleicher</h2>
<video controls>
<source src="https://www.dropbox.com/scl/fi/hyk9y5w57j8jusofwgxx6/Weimarer-Republik-Zusammenfassung-Pr-sidialkabinette-Br-ning-Papen-Schleicher-12.mp4?raw=1" type="video/mp4">
</video>
<video controls>
<source src="https://www.dropbox.com/scl/fi/uancgp5ud2f7zfkt214h7/Weimarer-Republik-Zusammenfassung-Pr-sidialkabinette-Br-ning-Papen-Schleicher-22.mp4?raw=1" type="video/mp4">
</video>

<div class="task" data-module="m2" data-solution="Die Präsidialkabinette stellten einen Systembruch dar, weil sie mithilfe von Artikel 48 ohne parlamentarische Mehrheiten regierten und den Reichstag faktisch entmachteten.">
<p><strong>2. Warum stellten die Präsidialkabinette einen Systembruch dar?</strong></p>
<textarea></textarea>
<button onclick="check(this)">Antwort prüfen</button>
<div class="points"></div>
<div class="missing"></div>
<div class="feedback"></div>
<div class="hint"></div>
<div class="solution"></div>
<button class="next" disabled>Weiter</button>
</div>

<h2>Modul 3: Hitlers Aufstieg zur Macht</h2>
<video controls>
<source src="https://www.dropbox.com/scl/fi/xiun3yfvx1xpnfkpbksni/Hitlers-Aufstieg-zur-Macht-Terra-X.mp4?raw=1" type="video/mp4">
</video>

<div class="task" data-module="m3" data-solution="Hitlers Ernennung zum Reichskanzler wurde durch die Weltwirtschaftskrise, das Kalkül konservativer Eliten, Wahlerfolge der NSDAP und politische Gewalt ermöglicht.">
<p><strong>3. Welche Faktoren ermöglichten Hitlers Ernennung zum Reichskanzler?</strong></p>
<textarea></textarea>
<button onclick="check(this)">Antwort prüfen</button>
<div class="points"></div>
<div class="missing"></div>
<div class="feedback"></div>
<div class="hint"></div>
<div class="solution"></div>
<button class="next" disabled>Weiter</button>
</div>

<h2>Modul 4: Adolf Hitler – Vom Niemand zum Diktator</h2>
<video controls>
<source src="https://www.dropbox.com/scl/fi/x7j90ay6jn60j46zj14mw/Adolf-Hitlers-Aufstieg-Vom-Niemand-zum-Diktator.mp4?raw=1" type="video/mp4">
</video>

<div class="task" data-module="m4" data-solution="Hitlers persönliches Auftreten, seine Propaganda, der Einsatz von Gewalt und die Unterstützung durch Netzwerke wirkten mit den Krisen der Weimarer Republik zusammen.">
<p><strong>4. Wie wirkten persönliche Eigenschaften Hitlers mit strukturellen Krisen zusammen?</strong></p>
<textarea></textarea>
<button onclick="check(this)">Antwort prüfen</button>
<div class="points"></div>
<div class="missing"></div>
<div class="feedback"></div>
<div class="hint"></div>
<div class="solution"></div>
<button class="next" disabled>Weiter</button>
</div>

</section>

<script>
const MODULES = {
m1: [
{k:'weltwirtschaftskrise',w:3},{k:'versailler',w:2},{k:'inflation',w:2},{k:'dolchst',w:2},{k:'putsch',w:1},{k:'parteien',w:1}
],
m2: [
{k:'artikel 48',w:4},{k:'notverordnung',w:3},{k:'reichspräsident',w:2},{k:'hindenburg',w:2},{k:'parlament',w:2}
],
m3: [
{k:'weltwirtschaftskrise',w:3},{k:'eliten',w:3},{k:'sa',w:2},{k:'hindenburg',w:2},{k:'1933',w:2}
],
m4: [
{k:'propaganda',w:3},{k:'sa',w:2},{k:'gewalt',w:2},{k:'inszenierung',w:2},{k:'netzwerk',w:1}
]
};

function check(btn){
const box = btn.parentElement;
const text = box.querySelector('textarea').value.toLowerCase();
const module = box.dataset.module;
const weighted = MODULES[module];

let score = 0;
let max = 0;
let missing = [];

weighted.forEach(e=>{
max += e.w;
if(text.includes(e.k)){ score += e.w; } else { missing.push(e.k); }
});

const ratio = score / max;
const percent = Math.round(ratio*100);

box.querySelector('.points').textContent = `Punkte: ${score} / ${max} (${percent} %)`;
box.querySelector('.missing').textContent = 'Fehlende gewichtige Begriffe: ' + missing.join(', ');

const teacher = document.getElementById('teacherToggle').checked;
const feedback = box.querySelector('.feedback');
const next = box.querySelector('.next');

if(text.trim().length < 40){
feedback.textContent = 'Antwort zu kurz – nicht bewertbar.';
feedback.style.color = 'crimson';
next.disabled = true;
return;
}

if(!teacher && ratio < 0.4){
feedback.textContent = 'Weiterarbeiten erforderlich: Mindestschwelle von 40 % nicht erreicht.';
feedback.style.color = 'crimson';
next.disabled = true;
return;
}

feedback.textContent = 'Inhaltlich tragfähig.';
feedback.style.color = 'green';
next.disabled = false;

if(ratio >= 0.7){
box.querySelector('.solution').style.display = 'block';
box.querySelector('.solution').textContent = 'Musterlösung: ' + box.dataset.solution;
}
}
</script>

</body>
</html>
